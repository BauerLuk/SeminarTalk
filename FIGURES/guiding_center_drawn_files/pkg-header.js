define("modules/clean/react/maestro/layout/pagelet_top_menu_container",["require","exports","tslib","react","spectrum/vertically_fixed","modules/clean/react/account_menu/account_menu_selector","modules/clean/react/async/loadable","modules/clean/react/maestro/components/header_portal","modules/clean/react/maestro/layout/header_conditions","modules/clean/react/user_notifications/dropdown","modules/clean/viewer","modules/clean/web_timing_logger","modules/core/browser","modules/core/browser_detection"],(function(e,t,n,r,o,a,l,i,u,s,c,m,d,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=n.__importDefault(r),m=n.__importStar(m),d=n.__importStar(d);var p=l.Loadable({loader:function(){return m.waitForTTI().then((function(){return new Promise((function(t,n){e(["modules/clean/react/growth/mobile/use_app_button"],t,n)})).then(n.__importStar).then((function(e){return e.UseAppButton}))}))}}),f=l.Loadable({loader:function(){return n.__awaiter(void 0,void 0,void 0,(function(){return n.__generator(this,(function(t){switch(t.label){case 0:return[4,m.waitForTTI()];case 1:return t.sent(),[4,new Promise((function(t,n){e(["modules/clean/react/user_notifications/dropdown_in_progress_admin_tasks"],t,n)})).then(n.__importStar)];case 2:return[2,t.sent().InProgressAdminTasks]}}))}))}});t.PageletTopMenuContainer=function(e){var t=e.hideInstallLink,n=void 0!==t&&t,l=e.userId,m=e.experiments,g=m.newAccountPicker,w=m.useAppButton,h=m.useMaestroPortal,b=e.featuresConfig,v=e.mobileUseAppUrl,E=e.shouldShowAdminTasksMenu,P=void 0!==E&&E,M=c.Viewer.get_viewer(),x=M.get_user_by_id(l),A=u.showAccountMenu(M,x);return r.default.createElement(i.MaestroPortal,{maestroPortalExperiment:h,element:i.MaestroPortalElement.TOP_MENU},r.default.createElement(o.VerticallyFixed,{className:"pagelet-top-menu__container maestro-min-width"},r.default.createElement((function(){var e,t=0===(e=d.get_uri().getPath()).indexOf("/h")||0===e.indexOf("/home");return"ON"===w&&_.is_supported_mobile_browser()&&t&&v?r.default.createElement(p,{mobileUseAppUrl:v}):null}),null),r.default.createElement((function(){return P&&"work"===x.role&&x.is_team_admin&&!M.team_is_limited&&(0===(e=d.get_uri().getPath()).indexOf("/team")||0===e.indexOf("/enterprise_console"))?r.default.createElement(f,{userId:l}):null;var e}),null),r.default.createElement("div",{className:"pagelet-top-menu__notifications-button-container pagelet-top-menu__element"},!x.is_guest_admin&&r.default.createElement(s.UserNotificationsDropdown,{isPagelet:!0})),r.default.createElement("div",{className:"pagelet-top-menu__account-button-container pagelet-top-menu__element"},A&&r.default.createElement(a.AccountMenuSelector,{user:x,viewer:M,featuresConfig:b,hideInstallLink:n,dropdownHorizontalDisplacement:-40,newAccountMenuExperiment:g}))))},t.RootComponent=function(e){return r.default.createElement(t.PageletTopMenuContainer,n.__assign({},e))}}));
//# sourceMappingURL=pkg-header.min.js-vflXtJr4u.map